{% extends "base.html" %}

{% block title %}Festive Falling Animation Demo - letsflick{% endblock %}

{% block description %}Experience magical festive falling animations for Christmas, Diwali, and other celebrations on letsflick{% endblock %}

{% block content %}
<style>
    body {
        background: linear-gradient(135deg, #1a472a, #2d5a3d, #1a472a) !important;
        min-height: 100vh;
        overflow-x: hidden;
        position: relative;
    }

    /* Override the main content background to blend with festive theme */
    .main-content {
        background: transparent !important;
        color: white;
    }

    /* Falling Animation Container */
    .falling-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
    }

    /* Falling Items */
    .falling-item {
        position: absolute;
        animation: fall linear infinite;
        opacity: 0.8;
    }

    @keyframes fall {
        0% {
            transform: translateY(-100px) rotate(0deg);
            opacity: 1;
        }
        100% {
            transform: translateY(100vh) rotate(360deg);
            opacity: 0.3;
        }
    }

    /* Different falling items */
    .snowflake {
        color: white;
        font-size: 20px;
        animation-duration: 3s;
    }

    .tree {
        color: #228B22;
        font-size: 30px;
        animation-duration: 5s;
    }

    .santa-hat {
        color: #DC143C;
        font-size: 25px;
        animation-duration: 4s;
    }

    .gift {
        color: #FF6347;
        font-size: 22px;
        animation-duration: 6s;
    }

    .star {
        color: #FFD700;
        font-size: 18px;
        animation-duration: 4.5s;
    }

    .bell {
        color: #FFD700;
        font-size: 20px;
        animation-duration: 5.5s;
    }

    /* Demo Content Styling */
    .demo-header {
        font-size: 48px;
        margin-bottom: 20px;
        background: linear-gradient(135deg, #FFD700, #FFA500);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        text-align: center;
    }

    .demo-description {
        font-size: 18px;
        margin-bottom: 40px;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
        line-height: 1.6;
        text-align: center;
        color: rgba(255,255,255,0.9);
    }

    .festival-controls {
        margin: 40px 0;
        text-align: center;
    }

    .festival-btn {
        background: linear-gradient(135deg, #DC143C, #B22222);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 25px;
        font-size: 16px;
        cursor: pointer;
        margin: 0 10px;
        transition: all 0.3s ease;
    }

    .festival-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 16px rgba(220, 20, 60, 0.3);
    }

    .demo-info {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        padding: 30px;
        border-radius: 15px;
        margin: 40px auto;
        max-width: 600px;
    }

    .demo-info h3 {
        color: #FFD700 !important;
    }

    .demo-info ul {
        color: rgba(255,255,255,0.9);
    }

    .back-link {
        color: #FFD700;
        text-decoration: none;
        font-size: 18px;
        border: 2px solid #FFD700;
        padding: 12px 24px;
        border-radius: 25px;
        transition: all 0.3s ease;
        display: inline-block;
        margin-top: 60px;
    }

    .back-link:hover {
        background: #FFD700;
        color: #1a472a;
    }

    /* Responsive */
    @media (max-width: 768px) {
        .demo-header {
            font-size: 36px;
        }
        
        .falling-item {
            font-size: 16px;
        }
        
        .tree {
            font-size: 20px;
        }
        
        .santa-hat {
            font-size: 18px;
        }

        .festival-btn {
            margin: 5px;
            padding: 12px 20px;
            font-size: 14px;
        }
    }
</style>

<!-- Falling Animation Container -->
<div class="falling-container" id="fallingContainer"></div>

<!-- Main Demo Content -->
<div style="position: relative; z-index: 2; text-align: center; padding: 40px 20px;">
    <h1 class="demo-header">üéÑ Festive Falling Animation Demo üéÖ</h1>
    
    <p class="demo-description">
        Experience the magic of seasonal animations! Watch as Christmas trees, snowflakes, Santa hats, 
        gifts, stars, and bells gently fall across your screen. This festive effect can be customized 
        for any holiday or celebration.
    </p>

    <div class="festival-controls">
        <button class="festival-btn" onclick="changeIntensity('light')">Light Snow ‚ùÑÔ∏è</button>
        <button class="festival-btn" onclick="changeIntensity('medium')">Medium Snow üå®Ô∏è</button>
        <button class="festival-btn" onclick="changeIntensity('heavy')">Heavy Snow ‚õÑ</button>
        <button class="festival-btn" onclick="stopAnimation()">Stop Animation üõë</button>
    </div>

    <div class="demo-info">
        <h3 style="margin-bottom: 15px;">‚ú® Customizable Features:</h3>
        <ul style="text-align: left; line-height: 2;">
            <li>üéØ Festival-specific items (Christmas, Diwali, Halloween, etc.)</li>
            <li>‚ö° Adjustable falling speed and intensity</li>
            <li>üé® Custom colors and sizes for different seasons</li>
            <li>üì± Mobile-responsive animations</li>
            <li>üéÆ Interactive controls (start/stop/adjust)</li>
            <li>üåü Performance optimized for smooth experience</li>
        </ul>
    </div>

    <div style="text-align: center;">
        <a href="/" class="back-link">
            ‚Üê Back to letsflick
        </a>
    </div>
</div>

<script>
    let animationInterval;
    let currentIntensity = 'medium';

    // Festive items with their emoji representations
    const festiveItems = [
        { emoji: '‚ùÑÔ∏è', class: 'snowflake' },
        { emoji: 'üéÑ', class: 'tree' },
        { emoji: 'üéÖ', class: 'santa-hat' },
        { emoji: 'üéÅ', class: 'gift' },
        { emoji: '‚≠ê', class: 'star' },
        { emoji: 'üîî', class: 'bell' },
        { emoji: '‚òÉÔ∏è', class: 'snowflake' },
        { emoji: 'üéä', class: 'gift' },
        { emoji: 'üåü', class: 'star' },
        { emoji: 'üß¶', class: 'santa-hat' }
    ];

    function createFallingItem() {
        const container = document.getElementById('fallingContainer');
        const item = document.createElement('div');
        const randomItem = festiveItems[Math.floor(Math.random() * festiveItems.length)];
        
        item.className = `falling-item ${randomItem.class}`;
        item.textContent = randomItem.emoji;
        
        // Random position
        item.style.left = Math.random() * 100 + 'vw';
        
        // Random animation duration variation
        const baseDuration = 4;
        const randomDuration = baseDuration + (Math.random() * 3);
        item.style.animationDuration = randomDuration + 's';
        
        // Random delay
        item.style.animationDelay = Math.random() * 2 + 's';
        
        container.appendChild(item);
        
        // Remove item after animation
        setTimeout(() => {
            if (item.parentNode) {
                container.removeChild(item);
            }
        }, (randomDuration + 2) * 1000);
    }

    function startAnimation(intensity = 'medium') {
        stopAnimation();
        currentIntensity = intensity;
        
        let interval;
        switch(intensity) {
            case 'light':
                interval = 800;
                break;
            case 'medium':
                interval = 400;
                break;
            case 'heavy':
                interval = 150;
                break;
        }
        
        animationInterval = setInterval(createFallingItem, interval);
    }

    function stopAnimation() {
        if (animationInterval) {
            clearInterval(animationInterval);
            animationInterval = null;
        }
        
        // Clear existing items
        const container = document.getElementById('fallingContainer');
        container.innerHTML = '';
    }

    function changeIntensity(intensity) {
        startAnimation(intensity);
    }

    // Auto-start with medium intensity
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            startAnimation('medium');
        }, 1000);
    });

    // Clean up on page unload
    window.addEventListener('beforeunload', () => {
        stopAnimation();
    });
</script>
{% endblock %}